<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Initialisierung mit Konstruktor und Object Initializer &#8211; LernMoment.de</title>
<meta name="description" content="Wie du Objekte sinnvoll initialisierst.">
<meta name="keywords" content="Syntax, Datentypen, Initialisierung">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Initialisierung mit Konstruktor und Object Initializer">
<meta name="twitter:description" content="Wie du Objekte sinnvoll initialisierst.">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:63266/images/banner/lernmoment-csharp.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="de_DE">
<meta property="og:type" content="article">
<meta property="og:title" content="Initialisierung mit Konstruktor und Object Initializer">
<meta property="og:description" content="Wie du Objekte sinnvoll initialisierst.">
<meta property="og:url" content="http://localhost:63266/csharp-programmieren/initialisierung-mit-konstruktor-und-object-initializer/">
<meta property="og:site_name" content="LernMoment.de">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="sPPXWqQjaSqa_ZgqYPNCyVLLaFzVAFCuf3xDBC-ofwE">



<link rel="canonical" href="http://localhost:63266/csharp-programmieren/initialisierung-mit-konstruktor-und-object-initializer/">
<link href="http://localhost:63266/feed.xml" type="application/atom+xml" rel="alternate" title="LernMoment.de Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:63266/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://localhost:63266/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://localhost:63266/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:63266/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:63266/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:63266/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:63266/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:63266/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">



<div class="navigation-banner">
	
	

	Lerne programmieren mit mir im Kurs: <a href="http://localhost:63266/einstieg-csharp/" >Einstieg in C# -></a>
</div>


<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="http://localhost:63266/kurse/" >Kurse</a></li>
		  
		    
		    <li><a href="http://localhost:63266/schwerpunkt/" >Dein Weg zum C# Entwickler</a></li>
		  
		    
		    <li><a href="http://localhost:63266/projekt-start/" >Entwicklung & Mentoring</a></li>
		  
		    
		    <li><a href="http://localhost:63266/blog/" >Blog</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="http://localhost:63266/" class="site-logo" rel="home" title="LernMoment.de"><img src="http://localhost:63266/images/site-logo.png" width="200" height="200" alt="LernMoment.de logo" class="animated fadeInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    <img src="http://localhost:63266/images/banner/lernmoment-csharp.jpg" class="entry-feature-image" alt="Initialisierung mit Konstruktor und Object Initializer" >
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://localhost:63266/tags/#Syntax" title="Pages tagged Syntax">Syntax</a>&nbsp;&bull;&nbsp;<a href="http://localhost:63266/tags/#Datentypen" title="Pages tagged Datentypen">Datentypen</a>&nbsp;&bull;&nbsp;<a href="http://localhost:63266/tags/#Initialisierung" title="Pages tagged Initialisierung">Initialisierung</a></span>
        
          <h1 class="entry-title">Initialisierung mit Konstruktor und Object Initializer</h1>
        
      </header>
      <footer class="entry-meta">
        
        <span class="author vcard">Von <span class="fn">Jan Suchotzki</span></span>
        <span class="entry-date date published"><time datetime="2015-09-10T06:00:00+02:00"><i class="fa fa-calendar-o"></i> 10. September 2015</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>Der Vergleich von Konstruktor und <em>Object Initializer</em> ist unfair. Denn ein Konstruktor ist Bürger erster Klasse in C# und der <em>Object Initializer</em> ist lediglich ein kleines Hilfsmittel um Quelltext zu verschönern. Trotzdem kannst du mit beiden einem Objekt Initialwerte geben.</p>

<p>Der Konstruktor ist für dich <em>die</em> Wahl, wenn es darum geht dein Objekt in einen gültigen Zustand zu bringen. Er ist also ein wichtiger Bestandteil für das Design deiner Klasse. Weitere Eigenschaften und Attribute kannst du dann mit dem <em>Object Initializer</em> wie folgt mit Werten belegen:</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">meinLernMoment</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LernMoment</span><span class="p">(</span><span class="s">"Object Initializer"</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">EmailAuthor</span> <span class="p">=</span> <span class="s">"jan@lernmoment.de"</span><span class="p">,</span>
	<span class="n">tags</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span><span class="s">"Syntax"</span><span class="p">,</span> <span class="s">"Initialisierung"</span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Du kannst in den geschweiften Klammern direkt einem oder mehreren (öffentlichen) Eigenschaften oder Attributen einen Wert zuweisen. In diesem Beispiel ist schon fraglich, ob ein Objekt der Klasse <code class="highlighter-rouge">LernMoment</code> gültig ist, wenn die Liste für das Attribut <code class="highlighter-rouge">tags</code> nicht alloziert ist. Damit will ich dir auch nur die Syntax zeigen.</p>

<p>Gerade bei dem Attribut <code class="highlighter-rouge">tags</code> siehst du eine weitere Besonderheit. Verwendest du einen Konstruktor ohne Argumente in Kombination mit einem <em>Object Initializer</em>, ist es erlaubt die runden Klammern des Konstruktors wegzulassen.</p>

<p>Der <em>Object Initializer</em> wird <strong>nach</strong> dem Konstruktor ausgeführt. Es ist also grundsätzlich möglich, dass du im Konstruktor einer Eigenschaft einen Wert zuweist und diesen nachträglich im <em>Object Initializer</em> überschreibst. Das wird allerdings in den wenigsten Fällen Sinn machen.</p>

<p>Im Beispiel oben siehst du einen der möglichen Verwendungszwecke des <em>Object Initializers</em>. Wenn du beispielsweise eine Klasse mit einigen öffentlichen Eigenschaften und Attributen hast, dann müsstest du unter Umständen viele überladene Konstruktoren anbieten für die Initialisierung. Eine Alternative ist nun, dass du einen Konstruktor bereitstellst, der das Objekt in einen gültigen Zustand versetzt und dann alles weitere mit dem <em>Object Initializer</em> machst.</p>

<p>Gerade im Kontext von <em>Multithreading</em>-Anwendungen gibt es noch einen weiteren Vorteil. Der <em>Object Initializer</em> ist eine atomare Operation. Wenn du ihn verwendest, wird dir garantiert, dass das angelegte Objekt entweder <code class="highlighter-rouge">null</code> oder komplett initialisiert ist.  Somit hast du einen Vorteil im Vergleich zu dem folgenden Beispiel, welches inhaltlich genau das gleiche macht:</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">meinLernMoment</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">LernMoment</span><span class="p">(</span><span class="s">"Object Initializer"</span><span class="p">);</span>
<span class="n">meinLernMomnet</span><span class="p">.</span><span class="n">EmailAuthor</span> <span class="p">=</span> <span class="s">"jan@lernmoment.de"</span><span class="p">;</span>
<span class="n">meinLernMoment</span><span class="p">.</span><span class="n">tags</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">meinLernMoment</span><span class="p">.</span><span class="n">tags</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Syntax"</span><span class="p">);</span>
<span class="n">meinLernMoment</span><span class="p">.</span><span class="n">tags</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Initialisierung"</span><span class="p">);</span>
</code></pre></div></div>

<p>Die Initialisierung in diesem Beispiel kann an jeder Stelle (nach dem Konstruktor) von einem anderen Thread unterbrochen werden. Bei dem ersten Beispiel könnte sie zwar auch unterbrochen werden, aber dann verweist <code class="highlighter-rouge">meinLernMoment</code> nicht auf ein gültiges Objekt, sondern auf <code class="highlighter-rouge">null</code>.</p>

<p>Für mich ist im direkten Vergleich der beiden Beispiele die Variante mit <em>Object Initializer</em> wesentlich besser lesbar. Insbesondere beim schreiben von automatischen <em>Unit</em>-Tests, hilft der <em>Object Initializer</em> den jeweiligen Testfall präzise zu formulieren.</p>

<p>Jetzt erstmal viel Spaß mit der Initialisierung deiner Objekte</p>

<p>Jan</p>

<h3 id="merke">Merke</h3>

<ul>
  <li>Den Konstruktor solltest du immer verwenden um ein Objekt deiner Klasse in einen gültigen Zustand zubringen.</li>
  <li>Einen <em>Object Initializer</em> verwendest du um weitere öffentliche Eigenschaften / Attribute deines Objektes in einer atomaren und “anmutend aussehenden” Operation zu initialisieren.</li>
  <li>Verwendest du den <em>Object Initializer</em> in Kombination mit einem Standardkonstruktor, kannst du die runden Klammern des Konstruktors weglassen.</li>
  <li>Der <em>Object Initializer</em> wird grundsätzlich nach dem Konstruktor ausgeführt.</li>
  <li>Die Verwendung des <em>Object Initializers</em> kann deine <em>Multithreading</em>-Anwendung ein wenig robuster machen.</li>
</ul>

<h3 id="lernquiz">Lernquiz</h3>

<p>Verwende folgende Fragen, um das Gelernte von heute zu festigen:</p>

<ul>
  <li>Was ist der Unterschied zwischen einem Konstrukor und einem Object Initializer?</li>
  <li>Wie sieht ein <em>Object Initializer</em> aus, der die Eigenschaften <code class="highlighter-rouge">string A</code> und <code class="highlighter-rouge">int B</code> mit Werten initialisiert?</li>
  <li>In welchen Fällen kann dir ein <em>Object Initializer</em> helfen?</li>
</ul>

<p>Am besten schaust du dir morgen und dann nochmal in ein paar Tagen die vorherigen Fragen an und beantwortest sie, ohne den Text vorher gelesen zu haben.</p>

<h3 id="weitere-informationen">Weitere Informationen</h3>

<ul>
  <li>Den kompletten Quelltext zum heutigen Lernmoment findest du <a href="https://github.com/LernMoment/csharp/tree/master/ObjektInitialisierung">hier</a>.</li>
  <li>Eine umfangreichere Erklärung warum der <em>Object Initializer</em> eine atomare Operation ist und was dies bedeutet findest du auf <a href="http://community.bartdesmet.net/blogs/bart/archive/2007/11/22/c-3-0-object-initializers-revisited.aspx">dieser Webseite</a></li>
  <li>Wie immer gibt es eine allgemeine Einführung auf <a href="https://msdn.microsoft.com/de-de/library/bb384062.aspx">MSDN</a></li>
</ul>

        
          <div class="subscribe-notice">
            <h5>Dieser LernMoment hat dir gefallen? <br> Dann melde dich an und du wirst über neue LernMomente informiert:</h5>
                <form action="https://lernmoment.us9.list-manage.com/subscribe/post" method="POST" target="_blank">
      <input type="hidden" name="u" value="d0206d57f5002e40b651a0f60">
      <input type="hidden" name="id" value="8845c28e62">
      <input type="email" class="subscribe-notice-input-box" autocapitalize="off" autocorrect="off" name="MERGE0" id="MERGE0" size="25" value="" placeholder="Deine E-Mail-Adresse">
      <input type="text" class="subscribe-notice-input-box" name="MERGE1" id="MERGE1" size="25" value="" placeholder="Dein Vorname (optional)">
      
        <input type="checkbox" id="group_1" name="group[20205][1]" value="1" checked="true" style="display:none">
      
      <input type="submit" class="subscribe-notice-button" name="submit" value="Ich bin dabei!">
      <legend class="subscribe-notice-legend">Du bekommst in unregelmäßigen Abständen Mails von mir, in denen ich dich auf neue Artikel oder Angebote hinweise, die in das gleiche Themengebiet fallen wie dieser Artikel.</legend>
    </form>

          </div>
        
        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://localhost:63266/csharp-programmieren/mit-der-ausrichtungskomponente-zu-erstaunlichen-ausgaben/" class="btn" title="Mit der Ausrichtungskomponente zu erstaunlichen Ausgaben">Vorheriger</a>
      
      
        <a href="http://localhost:63266/csharp-programmieren/variablen-einfangen-mit-lambda-ausdruecken/" class="btn" title="Variablen einfangen mit Lambda-Ausdrücken">Nächster</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<div class="social-icons">
	
	
	
	<a href="http://www.youtube.com/channel/UC5jCUQ6IPHtQP5r4y9byCqA" title="Jan Suchotzki on YouTube" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
	
	<a href="http://stackoverflow.com/users/5258906/jan-suchotzki" title="Jan Suchotzki on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	
	
	<a href="http://github.com/lernmoment" title="Jan Suchotzki on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
    
	
  <a href="http://localhost:63266/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
<span>Danke an <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> und <a href="http://mademistakes.com/so-simple/" rel="nofollow">Made Mistakes</a> für hervorragende Tools.</span>
<br>
<span><a href="http://localhost:63266/kein-copyright/">Kein Copyright</a>    -    <a href="http://localhost:63266/impressum/">Impressum</a>    -    <a href="http://localhost:63266/datenschutz/">Datenschutz</a></span>

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://localhost:63266';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:63266/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:63266/assets/js/scripts.min.js"></script>




</body>
</html>
