<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Der Garbage Collector &#8211; LernMoment.de</title>
<meta name="description" content="Antworten auf die wichtigsten Fragen um Quelltext ohne Speicherlöcher zuerstellen.">
<meta name="keywords" content="Konzept, Garbage Collection">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Der Garbage Collector">
<meta name="twitter:description" content="Antworten auf die wichtigsten Fragen um Quelltext ohne Speicherlöcher zuerstellen.">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:63266/images/banner/lernmoment-csharp.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="de_DE">
<meta property="og:type" content="article">
<meta property="og:title" content="Der Garbage Collector">
<meta property="og:description" content="Antworten auf die wichtigsten Fragen um Quelltext ohne Speicherlöcher zuerstellen.">
<meta property="og:url" content="http://localhost:63266/csharp-programmieren/der-garbage-collector/">
<meta property="og:site_name" content="LernMoment.de">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="sPPXWqQjaSqa_ZgqYPNCyVLLaFzVAFCuf3xDBC-ofwE">



<link rel="canonical" href="http://localhost:63266/csharp-programmieren/der-garbage-collector/">
<link href="http://localhost:63266/feed.xml" type="application/atom+xml" rel="alternate" title="LernMoment.de Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:63266/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://localhost:63266/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://localhost:63266/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:63266/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:63266/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:63266/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:63266/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:63266/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">



<div class="navigation-banner">
	
	

	Lerne programmieren mit mir im Kurs: <a href="http://localhost:63266/einstieg-csharp/" >Einstieg in C# -></a>
</div>


<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="http://localhost:63266/kurse/" >Kurse</a></li>
		  
		    
		    <li><a href="http://localhost:63266/schwerpunkt/" >Dein Weg zum C# Entwickler</a></li>
		  
		    
		    <li><a href="http://localhost:63266/projekt-start/" >Entwicklung & Mentoring</a></li>
		  
		    
		    <li><a href="http://localhost:63266/blog/" >Blog</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="http://localhost:63266/" class="site-logo" rel="home" title="LernMoment.de"><img src="http://localhost:63266/images/site-logo.png" width="200" height="200" alt="LernMoment.de logo" class="animated fadeInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    <img src="http://localhost:63266/images/banner/lernmoment-csharp.jpg" class="entry-feature-image" alt="Der Garbage Collector" >
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://localhost:63266/tags/#Konzept" title="Pages tagged Konzept">Konzept</a>&nbsp;&bull;&nbsp;<a href="http://localhost:63266/tags/#Garbage Collection" title="Pages tagged Garbage Collection">Garbage Collection</a></span>
        
          <h1 class="entry-title">Der Garbage Collector</h1>
        
      </header>
      <footer class="entry-meta">
        
        <span class="author vcard">Von <span class="fn">Jan Suchotzki</span></span>
        <span class="entry-date date published"><time datetime="2015-08-06T06:00:00+02:00"><i class="fa fa-calendar-o"></i> 06. August 2015</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>Inbesondere, wenn du von C oder C++ kommst, dann ist der Garbage Collector eine tolle Sache. Im besten Fall brauchst du nichts machen, und er passt auf, dass der Speicher aller Objekte freigegeben wird. Der Garbage Collector ist allerdings ein komplexes Gebilde, welches du beeinflussen kannst und solltest. Es kann sich nämlich direkt auf das Verhalten und die Performance deiner Anwendung auswirken.</p>

<h4 id="wann-läuft-der-gc">Wann läuft der GC?</h4>

<p>Der Garbage Collector ist Bestandteil der Common Language Runtime (CLR) und läuft in einem eigenen Thread. Er läuft, wenn deine Anwendung gerade keine Prozessorzeit in Anspruch nimmt und/oder ein gewisser Grenzwert an Speicherverbrauch überschritten ist. Niemand kann also mit Gewissheit sagen, wann der GC tatsächlich läuft. Es ist jedoch sichergestellt, dass er läuft, bevor der Speicher, der deiner Anwendung zugewiesen wurde, verbraucht ist.</p>

<h4 id="was-macht-der-gc">Was macht der GC?</h4>

<p>Jedesmal, wenn der GC läuft, überprüft er, ob es Objekte im Managed Heap gibt, welche nicht referenziert sind. Findet er solche Objekte, dann versucht er sie “runter zufahren” (finalize) und schließlich wird ihr Speicher wieder freigegeben.</p>

<p>Wichtig ist, dass der GC alle laufenden Threads unterbricht, außer dem Thread, der ihn angestossen hat. Außerdem kann er je nach aktuellem Status einiges an Rechenzeit verbrauchen. Somit kann er in deiner nebenläufigen Anwendung einiges verändern und stören.</p>

<h4 id="was-musst-du-machen">Was musst du machen?</h4>

<p>Grundsätzlich gibt es folgende Aktionen bei denen du den GC im Hinterkopf haben solltest:</p>

<ol>
  <li>Verwendung von Klassen, die <code class="highlighter-rouge">IDisposable</code> implementieren. Wenn eine Klasse dieses Interface implementiert, verwendet sie entweder Ressourcen, die nicht vom GC entfernt werden können, oder es sollte schon etwas aufgeräumt werden, bevor der GC läuft. Ein klassisches Beispiel ist <code class="highlighter-rouge">StreamReader</code>. Ein Objekt dieser Klasse, hält die Datei so lange offen, bis entweder <code class="highlighter-rouge">Dispose</code> aufgerufen wurde oder der GC das Objekt gelöscht hat. Somit kann die Datei für andere Benutzer lange gesperrt sein.</li>
  <li>Erstellen von Klassen die unmanaged Ressourcen verwenden. Erstellst du eine solche Klasse, musst du dir überlegen, wie und wann die Ressourcen freigegeben werden sollen. Dazu kannst du einen Destruktor und/oder <code class="highlighter-rouge">IDisposable</code> einsetzen.</li>
</ol>

<p>Jetzt erstmal viel Spaß beim Experimentieren mit der Speicherverwaltung</p>

<p>Jan</p>

<h3 id="merke">Merke</h3>

<ul>
  <li>Die Ausführung des Garbage Collectors ist nicht deterministisch</li>
  <li>Je nach Anwendung kann das Ausführen des Garbage Collectors einiges an Rechenzeit verschlingen</li>
  <li>Der Garbage Collector kann lange Zeit nicht laufen, wenn deine Anwendung viel Rechenzeit benötigt, oder wenig Speicheroperationen verwendet.</li>
  <li>Wenn du eine Klasse verwendest, die <code class="highlighter-rouge">IDisposable</code> implementiert, solltest du überlegen, wann du <code class="highlighter-rouge">Dispose</code> aufrufst.</li>
  <li>Beim erstellen einer Klasse die Ressourcen verwendet, die der GC nicht berücksichtigt, musst du entscheiden wie du Destruktor und <code class="highlighter-rouge">IDisposable</code> einsetzt.</li>
</ul>

<h3 id="lernquiz">Lernquiz</h3>

<p>Verwende folgende Fragen um das gelernte von heute zu festigen:</p>

<ul>
  <li>Wann wird der Garbage Collector ausgeführt?</li>
  <li>Welche Objekte kann er nicht automatisch löschen?</li>
  <li>Wann musst du etwas tun um den Garbage Collector zu unterstützen?</li>
</ul>

<p>Am besten du schaust dir morgen und dann nochmal in ein paar Tagen die vorherigen Fragen an und beantwortest sie ohne den Text vorher gelesen zu haben.</p>

<h3 id="weitere-informationen">Weitere Informationen</h3>

<ul>
  <li>Heute kein Quellcode.</li>
  <li>Eine sehr einfache Einführung in das Thema Garbage Collector findest du <a href="http://openbook.rheinwerk-verlag.de/visual_csharp_2010/visual_csharp_2010_04_008.htm">hier</a></li>
  <li>Eine umfangreichere Diskussion findest du auf <a href="https://msdn.microsoft.com/de-de/library/vstudio/ee787088(v=vs.110).aspx">MSDN</a></li>
</ul>

        
          <div class="subscribe-notice">
            <h5>Dieser LernMoment hat dir gefallen? <br> Dann melde dich an und du wirst über neue LernMomente informiert:</h5>
                <form action="https://lernmoment.us9.list-manage.com/subscribe/post" method="POST" target="_blank">
      <input type="hidden" name="u" value="d0206d57f5002e40b651a0f60">
      <input type="hidden" name="id" value="8845c28e62">
      <input type="email" class="subscribe-notice-input-box" autocapitalize="off" autocorrect="off" name="MERGE0" id="MERGE0" size="25" value="" placeholder="Deine E-Mail-Adresse">
      <input type="text" class="subscribe-notice-input-box" name="MERGE1" id="MERGE1" size="25" value="" placeholder="Dein Vorname (optional)">
      
        <input type="checkbox" id="group_1" name="group[20205][1]" value="1" checked="true" style="display:none">
      
      <input type="submit" class="subscribe-notice-button" name="submit" value="Ich bin dabei!">
      <legend class="subscribe-notice-legend">Du bekommst in unregelmäßigen Abständen Mails von mir, in denen ich dich auf neue Artikel oder Angebote hinweise, die in das gleiche Themengebiet fallen wie dieser Artikel.</legend>
    </form>

          </div>
        
        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://localhost:63266/csharp-programmieren/optimierung-mit-stringbuilder/" class="btn" title="Vorsicht Optimierung: Die Klasse StringBuilder">Vorheriger</a>
      
      
        <a href="http://localhost:63266/csharp-programmieren/zuverlaessig-entsorgen-mit-der-using-anweisung/" class="btn" title="Zuverlässig Entsorgen mit der using Anweisung">Nächster</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<div class="social-icons">
	
	
	
	<a href="http://www.youtube.com/channel/UC5jCUQ6IPHtQP5r4y9byCqA" title="Jan Suchotzki on YouTube" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
	
	<a href="http://stackoverflow.com/users/5258906/jan-suchotzki" title="Jan Suchotzki on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	
	
	<a href="http://github.com/lernmoment" title="Jan Suchotzki on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
    
	
  <a href="http://localhost:63266/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
<span>Danke an <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> und <a href="http://mademistakes.com/so-simple/" rel="nofollow">Made Mistakes</a> für hervorragende Tools.</span>
<br>
<span><a href="http://localhost:63266/kein-copyright/">Kein Copyright</a>    -    <a href="http://localhost:63266/impressum/">Impressum</a>    -    <a href="http://localhost:63266/datenschutz/">Datenschutz</a></span>

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://localhost:63266';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:63266/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:63266/assets/js/scripts.min.js"></script>




</body>
</html>
