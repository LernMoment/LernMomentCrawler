<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>DataContract - Die Flatrate zum Serialisieren deiner Objekte &#8211; LernMoment.de</title>
<meta name="description" content="Wie du (fast) kostenlos einen Datenvertrag für deine Klasse realisierst">
<meta name="keywords" content="Syntax, File, Serialisierung">


<!-- Twitter Cards -->
<meta name="twitter:title" content="DataContract - Die Flatrate zum Serialisieren deiner Objekte">
<meta name="twitter:description" content="Wie du (fast) kostenlos einen Datenvertrag für deine Klasse realisierst">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:63266/images/banner/lernmoment-csharp.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="de_DE">
<meta property="og:type" content="article">
<meta property="og:title" content="DataContract - Die Flatrate zum Serialisieren deiner Objekte">
<meta property="og:description" content="Wie du (fast) kostenlos einen Datenvertrag für deine Klasse realisierst">
<meta property="og:url" content="http://localhost:63266/csharp-programmieren/datacontract-flatrate-zum-serialisieren-deiner-objekte/">
<meta property="og:site_name" content="LernMoment.de">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="sPPXWqQjaSqa_ZgqYPNCyVLLaFzVAFCuf3xDBC-ofwE">



<link rel="canonical" href="http://localhost:63266/csharp-programmieren/datacontract-flatrate-zum-serialisieren-deiner-objekte/">
<link href="http://localhost:63266/feed.xml" type="application/atom+xml" rel="alternate" title="LernMoment.de Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:63266/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://localhost:63266/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://localhost:63266/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:63266/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:63266/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:63266/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:63266/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:63266/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:63266/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">



<div class="navigation-banner">
	
	

	Lerne programmieren mit mir im Kurs: <a href="http://localhost:63266/einstieg-csharp/" >Einstieg in C# -></a>
</div>


<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="http://localhost:63266/kurse/" >Kurse</a></li>
		  
		    
		    <li><a href="http://localhost:63266/schwerpunkt/" >Dein Weg zum C# Entwickler</a></li>
		  
		    
		    <li><a href="http://localhost:63266/projekt-start/" >Entwicklung & Mentoring</a></li>
		  
		    
		    <li><a href="http://localhost:63266/blog/" >Blog</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="http://localhost:63266/" class="site-logo" rel="home" title="LernMoment.de"><img src="http://localhost:63266/images/site-logo.png" width="200" height="200" alt="LernMoment.de logo" class="animated fadeInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    <img src="http://localhost:63266/images/banner/lernmoment-csharp.jpg" class="entry-feature-image" alt="DataContract - Die Flatrate zum Serialisieren deiner Objekte" >
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://localhost:63266/tags/#Syntax" title="Pages tagged Syntax">Syntax</a>&nbsp;&bull;&nbsp;<a href="http://localhost:63266/tags/#File" title="Pages tagged File">File</a>&nbsp;&bull;&nbsp;<a href="http://localhost:63266/tags/#Serialisierung" title="Pages tagged Serialisierung">Serialisierung</a></span>
        
          <h1 class="entry-title">DataContract - Die Flatrate zum Serialisieren deiner Objekte</h1>
        
      </header>
      <footer class="entry-meta">
        
        <span class="author vcard">Von <span class="fn">Jan Suchotzki</span></span>
        <span class="entry-date date published"><time datetime="2015-09-02T06:00:00+02:00"><i class="fa fa-calendar-o"></i> 02. September 2015</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>In .NET gibt es viele Möglichkeiten ein Objekt in eine Datei zu schreiben und es später daraus zu laden. Einen simplen Ansatz bietet der Datenvertrag. Das hat nichts Mobilfunk zutun, sondern ist ein Konzept welches die <a href="https://msdn.microsoft.com/de-de/library/Dd456779(v=VS.110).aspx">Windows Communication Foundation (WCF)</a> eingeführt hat.</p>

<p>Damit du Objekte deiner Klasse in eine Datei im <em>XML-</em> oder <em>JSON-Format</em> schreiben kannst, brauchst du lediglich die beiden Attribute <code class="highlighter-rouge">[DataContract]</code> und <code class="highlighter-rouge">[DataMember]</code>. Im Gegensatz zu anderen Serialisierungstechnologien, musst du bei Datenverträgen explizit definieren welche Attribute und Eigenschaften beim Serialisieren berücksichtigt werden.</p>

<p>Du sagst, dass dein Klasse einen Datenvertrag realisiert, indem du das <code class="highlighter-rouge">[DataContract]</code> Attribut an der Klasse definierst. Dies Attribut wie auch weitere relevante Attribute und Klassen sind im Namensraum <code class="highlighter-rouge">System.Runtime.Serialization</code> definiert. Ein einfaches Beispiel könnte so aussehen:</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">DataContract</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">LernMoment</span>
<span class="p">{</span>
	<span class="p">[</span><span class="nf">DataMember</span><span class="p">(</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Email-Adressse des Autors"</span><span class="p">)]</span>
	<span class="k">private</span> <span class="kt">string</span> <span class="n">emailAuthor</span><span class="p">;</span>

	<span class="p">[</span><span class="nf">DataMember</span><span class="p">(</span><span class="n">IsRequired</span> <span class="p">=</span> <span class="k">true</span><span class="p">)]</span>
	<span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;}</span>

	<span class="p">[</span><span class="n">DataMember</span><span class="p">]</span>
	<span class="k">protected</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">tags</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Wie du siehst verwendest du das <code class="highlighter-rouge">[DataMember]</code> Attribut an allen Eigenschaften und Attibuten die bei der Serialisierung berücksichtigt werden sollen. Hast du zum Beispiel an einer Klasse eine Eigenschaft die nur aktuelle Werte von einem Gerät oder einem Webservice enthält, möchtest du diese nicht unbedingt speichern.</p>

<p>Über die Eigenschaften des <code class="highlighter-rouge">[DataMember]</code> Attributs, kannst du die Serialisierung weiter beeinflussen. Wenn du nichts weiter angibst, wie bei dem Attribut <code class="highlighter-rouge">tags</code> im vorherigen Beispiel, verwendet die Serialisierung den Namen des Attributs innerhalb der erzeugten Datei. Möchtest du nun in der erzeugten Datei einen Namen haben den .NET nicht als Variablennamen gestattet, kannst du dies über <code class="highlighter-rouge">[DataMember(Name = "&lt;Ein anderer Name&gt;")]</code> angeben.</p>

<p>Dies erlaubt auch die Entkopplung deiner Klassenschnittstelle mit den Namen in der Datei. Wenn du im Beispiel oben das Attribut <code class="highlighter-rouge">emailAuthor</code> an der Klasse umbenennen möchtest, kannst du dies im Quelltext machen, ohne Probleme beim lesen einer bereits existierenden Datei zu bekommen.</p>

<p>Auch die Eigenschaft <code class="highlighter-rouge">IsRequired</code> wird für die Versionierung verwendet. Hiermit gibst du an, dass es bei der Deserialisierung einen Fehler gibt, wenn der entsprechende Eintrag in der Datei nicht vorhanden ist.</p>

<p>Nun kennst du schon die wichtigsten Attribute um für deine Klasse ein Datenvertrag zu definieren. Objekte einer solchen Klassen können mit dem <code class="highlighter-rouge">DataContractSerializer</code> geschrieben und gelesen werden. Wie dies funktioniert erfährst du in einem weiteren LernMoment. Um dich nicht auf die Folter zu spannen, habe ich es im <a href="https://github.com/LernMoment/csharp/tree/master/DataContract">Beispiel</a> schon eingebaut.</p>

<p>Jetzt erstmal viel Spaß mit deiner Flatrate zum speichern und laden von Objekten</p>

<p>Jan</p>

<p>PS: Auch, wenn es noch kleine Lücken gibt, unterstützt Mono diese Funktionalität fast vollständig.</p>

<h3 id="merke">Merke</h3>

<ul>
  <li>Mit Datenverträgen (<code class="highlighter-rouge">DataContract</code>) kannst du mühelos Objekte deiner Klasse in verschiedenen Formaten speichern und wieder einlesen.</li>
  <li>Die nötigen Attribute und Klassen sind im Namensraum <code class="highlighter-rouge">System.Runtime.Serialization</code> definiert.</li>
  <li><code class="highlighter-rouge">[DataContract]</code> wird an der Klassendefinition verwendet.</li>
  <li>Mit <code class="highlighter-rouge">[DataMember]</code> definierst du welche Eigenschaften und Attribute deiner Klasse gespeichert und gelesen werden sollen.</li>
  <li>Über die Eigenschaften <code class="highlighter-rouge">Name</code> und <code class="highlighter-rouge">IsRequired</code> des <code class="highlighter-rouge">[DataMember]</code> Attributs kannst du insbesondere auf die Versionierung deines Dateiformates Einfluss nehmen.</li>
</ul>

<h3 id="lernquiz">Lernquiz</h3>

<p>Verwende folgende Fragen, um das Gelernte von heute zu festigen:</p>

<ul>
  <li>Wofür verwendest du das Attribut <code class="highlighter-rouge">[DataContract]</code>?</li>
  <li>Was wird in eine Datei geschrieben, wenn an einer Klasse <code class="highlighter-rouge">[DataContract]</code> definiert ist aber keine <code class="highlighter-rouge">[DataMember]</code>?</li>
  <li>Wann solltest du die <code class="highlighter-rouge">Name</code> Eigenschaft des Attributs <code class="highlighter-rouge">[DataMember]</code>verwenden?</li>
</ul>

<p>Am besten schaust du dir morgen und dann nochmal in ein paar Tagen die vorherigen Fragen an und beantwortest sie, ohne den Text vorher gelesen zu haben.</p>

<h3 id="weitere-informationen">Weitere Informationen</h3>

<ul>
  <li>Den kompletten Quelltext zum heutigen Lernmoment findest du <a href="https://github.com/LernMoment/csharp/tree/master/DataContract">hier</a>.</li>
  <li>Eine Einführung in Datenverträge gibt es bei <a href="https://msdn.microsoft.com/de-de/library/ms733127(v=VS.110).aspx">MSDN</a>. Dies ist allerdings sehr auf WCF ausgelegt. Da geht es weniger um das reine speichern und laden von Objekten.</li>
</ul>

        
          <div class="subscribe-notice">
            <h5>Dieser LernMoment hat dir gefallen? <br> Dann melde dich an und du wirst über neue LernMomente informiert:</h5>
                <form action="https://lernmoment.us9.list-manage.com/subscribe/post" method="POST" target="_blank">
      <input type="hidden" name="u" value="d0206d57f5002e40b651a0f60">
      <input type="hidden" name="id" value="8845c28e62">
      <input type="email" class="subscribe-notice-input-box" autocapitalize="off" autocorrect="off" name="MERGE0" id="MERGE0" size="25" value="" placeholder="Deine E-Mail-Adresse">
      <input type="text" class="subscribe-notice-input-box" name="MERGE1" id="MERGE1" size="25" value="" placeholder="Dein Vorname (optional)">
      
        <input type="checkbox" id="group_1" name="group[20205][1]" value="1" checked="true" style="display:none">
      
      <input type="submit" class="subscribe-notice-button" name="submit" value="Ich bin dabei!">
      <legend class="subscribe-notice-legend">Du bekommst in unregelmäßigen Abständen Mails von mir, in denen ich dich auf neue Artikel oder Angebote hinweise, die in das gleiche Themengebiet fallen wie dieser Artikel.</legend>
    </form>

          </div>
        
        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://localhost:63266/csharp-programmieren/verwende-deine-bibliothek-in-anderen-net-sprachen/" class="btn" title="Verwende deine C# Bibliothek in anderen .NET Sprachen">Vorheriger</a>
      
      
        <a href="http://localhost:63266/csharp-programmieren/mit-der-ausrichtungskomponente-zu-erstaunlichen-ausgaben/" class="btn" title="Mit der Ausrichtungskomponente zu erstaunlichen Ausgaben">Nächster</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<div class="social-icons">
	
	
	
	<a href="http://www.youtube.com/channel/UC5jCUQ6IPHtQP5r4y9byCqA" title="Jan Suchotzki on YouTube" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
	
	<a href="http://stackoverflow.com/users/5258906/jan-suchotzki" title="Jan Suchotzki on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	
	
	<a href="http://github.com/lernmoment" title="Jan Suchotzki on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
    
	
  <a href="http://localhost:63266/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
<span>Danke an <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> und <a href="http://mademistakes.com/so-simple/" rel="nofollow">Made Mistakes</a> für hervorragende Tools.</span>
<br>
<span><a href="http://localhost:63266/kein-copyright/">Kein Copyright</a>    -    <a href="http://localhost:63266/impressum/">Impressum</a>    -    <a href="http://localhost:63266/datenschutz/">Datenschutz</a></span>

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://localhost:63266';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:63266/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:63266/assets/js/scripts.min.js"></script>




</body>
</html>
